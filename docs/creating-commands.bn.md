# Komihub Bot-ржП ржирждрзБржи ржХржорж╛ржирзНржб рждрзИрж░рж┐ ржХрж░рж╛

ржПржЗ ржЧрж╛ржЗржбржЯрж┐ Komihub ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржо ржмржЯ ржлрзНрж░рзЗржоржУржпрж╝рж╛рж░рзНржХрзЗ ржирждрзБржи ржХржорж╛ржирзНржб рждрзИрж░рж┐ ржХрж░рж╛рж░ ржкржжрзНржзрждрж┐ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рзЗред

## рж╕рзВржЪрж┐ржкрждрзНрж░
- [ржмрзЗрж╕рж┐ржХ ржХржорж╛ржирзНржб рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░](#ржмрзЗрж╕рж┐ржХ-ржХржорж╛ржирзНржб-рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░)
- [ржХржорж╛ржирзНржб рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рзЗрж╢ржи](#ржХржорж╛ржирзНржб-рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рзЗрж╢ржи)
- [рж╣рзЗрж▓рзНржк ржлрж╛ржВрж╢ржи](#рж╣рзЗрж▓рзНржк-ржлрж╛ржВрж╢ржи)
- [ржХржорж╛ржирзНржб ржЙржжрж╛рж╣рж░ржг](#ржХржорж╛ржирзНржб-ржЙржжрж╛рж╣рж░ржг)
- [ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ржб ржлрж┐ржЪрж╛рж░](#ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ржб-ржлрж┐ржЪрж╛рж░)
- [ржмрзЗрж╕рзНржЯ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕](#ржмрзЗрж╕рзНржЯ-ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕)

## ржмрзЗрж╕рж┐ржХ ржХржорж╛ржирзНржб рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░

рж╕ржм ржХржорж╛ржирзНржб `src/commands/` ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рждрзЗ ржерж╛ржХрзЗред ржкрзНрж░рждрзНржпрзЗржХ ржХржорж╛ржирзНржбрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ Python ржлрж╛ржЗрж▓ ржерж╛ржХрж╛ ржЙржЪрж┐рждред

### ржорж┐ржирж┐ржорж╛рж▓ ржХржорж╛ржирзНржб ржлрж╛ржЗрж▓

```python
from core import Message, command, logger, get_lang

lang = get_lang()

def help():
    return {
        "name": "my_command",
        "version": "1.0.0",
        "description": "ржПржЗ ржХржорж╛ржирзНржб ржХрзА ржХрж░рзЗ рждрж╛рж░ ржмрж░рзНржгржирж╛",
        "author": "ржЖржкржирж╛рж░ ржирж╛ржо",
        "usage": "/my_command [ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░]"
    }

@command('my_command')
async def my_command(message: Message):
    logger.info(lang.log_command_executed.format(command='my_command', user_id=message.from_user.id))

    # ржЖржкржирж╛рж░ ржХржорж╛ржирзНржб рж▓ржЬрж┐ржХ ржПржЦрж╛ржирзЗ
    await message.answer("рж╣рзНржпрж╛рж▓рзЛ! ржПржЯрж╛ ржЖржорж╛рж░ ржирждрзБржи ржХржорж╛ржирзНржбред")
```

## ржХржорж╛ржирзНржб рж░рзЗржЬрж┐рж╕рзНржЯрзНрж░рзЗрж╢ржи

### @command ржбрзЗржХрзЛрж░рзЗржЯрж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ

`@command` ржбрзЗржХрзЛрж░рзЗржЯрж░ ржЖржкржирж╛рж░ ржлрж╛ржВрж╢ржиржХрзЗ ржЕржЯрзЛржорзЗржЯрж┐ржХрзНржпрж╛рж▓рж┐ ржмржЯ ржХржорж╛ржирзНржб рж╣рж┐рж╕рзЗржмрзЗ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░ ржХрж░рзЗ:

```python
@command('command_name')
async def command_function(message: Message):
    # ржХржорж╛ржирзНржб ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи
    pass
```

### ржПржХ ржлрж╛ржЗрж▓рзЗ ржПржХрж╛ржзрж┐ржХ ржХржорж╛ржирзНржб

ржЖржкржирж┐ ржПржХ ржлрж╛ржЗрж▓рзЗ ржПржХрж╛ржзрж┐ржХ ржХржорж╛ржирзНржб ржбрж┐ржлрж╛ржЗржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржи:

```python
@command('cmd1')
async def command_one(message: Message):
    await message.answer("ржХржорж╛ржирзНржб рзз ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣ржпрж╝рзЗржЫрзЗ")

@command('cmd2')
async def command_two(message: Message):
    await message.answer("ржХржорж╛ржирзНржб рзи ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣ржпрж╝рзЗржЫрзЗ")
```

## рж╣рзЗрж▓рзНржк ржлрж╛ржВрж╢ржи

ржкрзНрж░рждрзНржпрзЗржХ ржХржорж╛ржирзНржб ржлрж╛ржЗрж▓рзЗ `help()` ржлрж╛ржВрж╢ржи ржерж╛ржХрждрзЗ рж╣ржмрзЗ ржпрж╛ ржХржорж╛ржирзНржб рждржерзНржп рж╕рж╣ ржПржХржЯрж┐ ржбрж┐ржХрж╢ржирж╛рж░рж┐ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ:

```python
def help():
    return {
        "name": "command_name",        # ржХржорж╛ржирзНржб ржирж╛ржо (ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝)
        "version": "1.0.0",           # ржнрж╛рж░рзНрж╕ржи (ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝)
        "description": "ржХрзА ржХрж░рзЗ", # ржмрж░рзНржгржирж╛ (ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝)
        "author": "ржЖржкржирж╛рж░ ржирж╛ржо",        # рж▓рзЗржЦржХрзЗрж░ ржирж╛ржо (ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝)
        "usage": "/command [params]"  # ржмрзНржпржмрж╣рж╛рж░ рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕ (ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝)
    }
```

## ржХржорж╛ржирзНржб ржЙржжрж╛рж╣рж░ржг

### рж╕рж┐ржорзНржкрж▓ ржЯрзЗржХрзНрж╕ржЯ рж░рзЗрж╕ржкржирзНрж╕

```python
from core import Message, command, logger, get_lang

lang = get_lang()

def help():
    return {
        "name": "hello",
        "version": "1.0.0",
        "description": "ржмржЯржХрзЗ рж╣рзНржпрж╛рж▓рзЛ ржмрж▓рзБржи",
        "author": "Komihub",
        "usage": "/hello"
    }

@command('hello')
async def hello(message: Message):
    logger.info(lang.log_command_executed.format(command='hello', user_id=message.from_user.id))

    user_name = message.from_user.first_name or "ржЗржЙржЬрж╛рж░"
    await message.answer(f"рж╣рзНржпрж╛рж▓рзЛ {user_name}! ЁЯСЛ")
```

### ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ рж╕рж╣ ржХржорж╛ржирзНржб

```python
from core import Message, command, logger, get_lang

lang = get_lang()

def help():
    return {
        "name": "echo",
        "version": "1.0.0",
        "description": "ржорзЗрж╕рзЗржЬржЯрж┐ ржмрзНржпрж╛ржХ ржПржЦрзЛ ржХрж░рзЗ",
        "author": "Komihub",
        "usage": "/echo <message>"
    }

@command('echo')
async def echo(message: Message):
    logger.info(lang.log_command_executed.format(command='echo', user_id=message.from_user.id))

    args = message.text.split(maxsplit=1)
    if len(args) < 2:
        await message.answer("ржмрзНржпржмрж╣рж╛рж░: /echo <message>")
        return

    text_to_echo = args[1]
    await message.answer(f"ЁЯУв {text_to_echo}")
```

### ржЕрзНржпрж╛ржбржорж┐ржи-рж╢рзБржзрзБ ржХржорж╛ржирзНржб

```python
from core import Message, command, logger, get_lang
from core.database import db

lang = get_lang()

def help():
    return {
        "name": "admin_only",
        "version": "1.0.0",
        "description": "ржЕрзНржпрж╛ржбржорж┐ржи-рж╢рзБржзрзБ ржХржорж╛ржирзНржб ржЙржжрж╛рж╣рж░ржг",
        "author": "Komihub",
        "usage": "/admin_only"
    }

@command('admin_only')
async def admin_only(message: Message):
    # ржЗржЙржЬрж╛рж░ ржЕрзНржпрж╛ржбржорж┐ржи ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзБржи
    if not db.is_admin(message.from_user.id):
        await message.answer("тЭМ ржПржЗ ржХржорж╛ржирзНржб рж╢рзБржзрзБ ржЕрзНржпрж╛ржбржорж┐ржиржжрзЗрж░ ржЬржирзНржпред")
        return

    logger.info(lang.log_command_executed.format(command='admin_only', user_id=message.from_user.id))

    await message.answer("тЬЕ ржЕрзНржпрж╛ржбржорж┐ржи ржХржорж╛ржирзНржб рж╕ржлрж▓ржнрж╛ржмрзЗ ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣ржпрж╝рзЗржЫрзЗ!")
```

### рж░рж┐ржкрзНрж▓рж╛ржЗ-ржнрж┐рждрзНрждрж┐ржХ ржХржорж╛ржирзНржб

```python
from core import Message, command, logger, get_lang

lang = get_lang()

def help():
    return {
        "name": "reply_test",
        "version": "1.0.0",
        "description": "рж░рж┐ржкрзНрж▓рж╛ржЗ рж╕рж╣ ржХрж╛ржЬ ржХрж░рзЗ ржПржоржи ржХржорж╛ржирзНржб",
        "author": "Komihub",
        "usage": "/reply_test [text] - ржПржХржЯрж┐ ржорзЗрж╕рзЗржЬрзЗ рж░рж┐ржкрзНрж▓рж╛ржЗ ржХрж░рзЗ ржХрзЛржЯ ржХрж░рзБржи"
    }

@command('reply_test')
async def reply_test(message: Message):
    logger.info(lang.log_command_executed.format(command='reply_test', user_id=message.from_user.id))

    if message.reply_to_message:
        # ржЗржЙржЬрж╛рж░ ржПржХржЯрж┐ ржорзЗрж╕рзЗржЬрзЗ рж░рж┐ржкрзНрж▓рж╛ржЗ ржХрж░рзЗржЫрзЗ
        original_text = message.reply_to_message.text or "[ржиржи-ржЯрзЗржХрзНрж╕ржЯ ржорзЗрж╕рзЗржЬ]"
        args = message.text.split(maxsplit=1)
        quote_text = args[1] if len(args) > 1 else "ржХрзЛржЯ"

        await message.answer(f"ЁЯТм {quote_text}:\n\n{original_text}")
    else:
        # ржХрзЛржирзЛ рж░рж┐ржкрзНрж▓рж╛ржЗ ржирзЗржЗ, рж╢рзБржзрзБ ржЯрзЗржХрзНрж╕ржЯ ржПржЦрзЛ ржХрж░рзБржи
        args = message.text.split(maxsplit=1)
        if len(args) < 2:
            await message.answer("ржмрзНржпржмрж╣рж╛рж░: /reply_test <text>\nржмрж╛ ржПржХржЯрж┐ ржорзЗрж╕рзЗржЬрзЗ рж░рж┐ржкрзНрж▓рж╛ржЗ ржХрж░рзЗ /reply_test")
            return

        await message.answer(f"ЁЯУв {args[1]}")
```

### ржлрж╛ржЗрж▓ ржЖржкрж▓рзЛржб/ржбрж╛ржЙржирж▓рзЛржб ржХржорж╛ржирзНржб

```python
from core import Message, command, logger, get_lang, FSInputFile
import tempfile
import os

lang = get_lang()

def help():
    return {
        "name": "process_file",
        "version": "1.0.0",
        "description": "ржЖржкрж▓рзЛржб ржХрж░рж╛ ржлрж╛ржЗрж▓ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рзЗ",
        "author": "Komihub",
        "usage": "/process_file - ржПржХржЯрж┐ ржбржХрзБржорзЗржирзНржЯ ржмрж╛ ржлржЯрзЛрждрзЗ рж░рж┐ржкрзНрж▓рж╛ржЗ ржХрж░рзБржи"
    }

@command('process_file')
async def process_file(message: Message):
    logger.info(lang.log_command_executed.format(command='process_file', user_id=message.from_user.id))

    if not message.reply_to_message or not (message.reply_to_message.document or message.reply_to_message.photo):
        await message.answer("ржПржХржЯрж┐ ржбржХрзБржорзЗржирзНржЯ ржмрж╛ ржлржЯрзЛрждрзЗ рж░рж┐ржкрзНрж▓рж╛ржЗ ржХрж░рзЗ ржПржЗ ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред")
        return

    await message.answer("ЁЯФД ржлрж╛ржЗрж▓ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...")

    try:
        # ржлрж╛ржЗрж▓ ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзБржи
        if message.reply_to_message.document:
            file_info = await message.bot.get_file(message.reply_to_message.document.file_id)
        else:
            # ржлржЯрзЛ - рж╕ржмржЪрзЗржпрж╝рзЗ ржмржбрж╝ рж╕рж╛ржЗржЬ ржирж┐ржи
            photo = message.reply_to_message.photo[-1]
            file_info = await message.bot.get_file(photo.file_id)

        downloaded_file = await message.bot.download_file(file_info.file_path)

        # ржлрж╛ржЗрж▓ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рзБржи (ржЙржжрж╛рж╣рж░ржг: рж╢рзБржзрзБ ржлрж╛ржЗрж▓ рж╕рж╛ржЗржЬ ржкрж╛ржи)
        file_size = len(downloaded_file.getvalue())
        file_name = message.reply_to_message.document.file_name if message.reply_to_message.document else "photo.jpg"

        await message.answer(
            f"тЬЕ ржлрж╛ржЗрж▓ ржкрзНрж░рж╕рзЗрж╕ рж╕ржорзНржкржирзНржи!\n\n"
            f"ЁЯУБ ржирж╛ржо: {file_name}\n"
            f"ЁЯУК рж╕рж╛ржЗржЬ: {file_size:,} ржмрж╛ржЗржЯ\n"
            f"ЁЯУВ ржЯрж╛ржЗржк: {'ржбржХрзБржорзЗржирзНржЯ' if message.reply_to_message.document else 'ржлржЯрзЛ'}"
        )

    except Exception as e:
        logger.error(f"ржлрж╛ржЗрж▓ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ ржПрж░рж░: {e}")
        await message.answer("тЭМ ржлрж╛ржЗрж▓ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рждрзЗ ржмрзНржпрж░рзНрже рж╣ржпрж╝рзЗржЫрзЗред")
```

## ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ржб ржлрж┐ржЪрж╛рж░

### ржбрзЗржЯрж╛ржмрзЗрж╕ ржмрзНржпржмрж╣рж╛рж░

```python
from core import Message, command, logger, get_lang
from core.database import db

@command('user_stats')
async def user_stats(message: Message):
    user_id = message.from_user.id

    # ржЗржЙржЬрж╛рж░ ржбрзЗржЯрж╛ ржкрж╛ржи
    user_data = db.get_user(user_id)
    if not user_data:
        await message.answer("ржПржЗ ржЗржЙржЬрж╛рж░рзЗрж░ ржЬржирзНржп ржХрзЛржирзЛ ржбрзЗржЯрж╛ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐ред")
        return

    # ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ рж╕рзНржЯрзНржпрж╛ржЯрж┐рж╕рзНржЯрж┐ржХрзНрж╕ ржкрж╛ржи
    command_stats = db.get_command_stats()

    response = f"ЁЯУК <b>ржЗржЙржЬрж╛рж░ рж╕рзНржЯрзНржпрж╛ржЯрж┐рж╕рзНржЯрж┐ржХрзНрж╕</b>\n\n"
    response += f"ЁЯСд ржЗржЙржЬрж╛рж░ ID: <code>{user_id}</code>\n"
    response += f"ЁЯУЕ ржЬржпрж╝рзЗржи: {user_data.get('joined_at', 'ржЕржЬрж╛ржирж╛')}\n"
    response += f"ЁЯОп рж░рзЛрж▓: {user_data.get('role', 'user')}\n"

    await message.answer(response, parse_mode="HTML")
```

### ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржмрзНржпржмрж╣рж╛рж░

```python
from core import Message, command, logger, get_lang
import config

@command('bot_info')
async def bot_info(message: Message):
    response = f"ЁЯдЦ <b>ржмржЯ рждржерзНржп</b>\n\n"
    response += f"ЁЯУЫ ржирж╛ржо: {config.BOT_NAME}\n"
    response += f"ЁЯСд ржУржирж╛рж░: {config.ADMIN_NAME}\n"
    response += f"ЁЯЖФ ржУржирж╛рж░ ID: <code>{config.ADMIN_ID}</code>\n"
    response += f"ЁЯМР рж▓рзНржпрж╛ржЩрзНржЧрзБржпрж╝рзЗржЬ: {config.DEFAULT_LANG}\n"

    await message.answer(response, parse_mode="HTML")
```

### ржПрж░рж░ рж╣рзНржпрж╛ржирзНржбрж▓рж┐ржВ

```python
@command('risky_command')
async def risky_command(message: Message):
    try:
        # ржХрж┐ржЫрзБ рж░рж┐рж╕рзНржХрж┐ ржЕржкрж╛рж░рзЗрж╢ржи
        result = some_risky_function()

        await message.answer(f"тЬЕ рж╕ржлрж▓: {result}")

    except ValueError as e:
        await message.answer(f"тЭМ ржЗржиржнрзНржпрж╛рж▓рж┐ржб ржЗржиржкрзБржЯ: {e}")

    except Exception as e:
        logger.error(f"ржЕржкрзНрж░рждрзНржпрж╛рж╢рж┐ржд ржПрж░рж░ in risky_command: {e}")
        await message.answer("тЭМ ржПржХржЯрж┐ ржЕржкрзНрж░рждрзНржпрж╛рж╢рж┐ржд ржПрж░рж░ ржШржЯрзЗржЫрзЗред ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред")
```

### ржЕрзНржпрж╛рж╕рж┐ржЩрзНржХ ржЕржкрж╛рж░рзЗрж╢ржи

```python
import asyncio

@command('async_example')
async def async_example(message: Message):
    # ржкрзНрж░ржЧрзНрж░рзЗрж╕ ржжрзЗржЦрж╛ржи
    progress_msg = await message.answer("ЁЯФД ржЕрзНржпрж╛рж╕рж┐ржЩрзНржХ ржЕржкрж╛рж░рзЗрж╢ржи рж╢рзБрж░рзБ рж╣ржЪрзНржЫрзЗ...")

    # ржЕрзНржпрж╛рж╕рж┐ржЩрзНржХ ржХрж╛ржЬ рж╕рж┐ржорзБрж▓рзЗржЯ ржХрж░рзБржи
    await asyncio.sleep(2)
    await progress_msg.edit_text("ЁЯФД ржкрзНрж░рж╕рзЗрж╕ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ... рзлрзж%")

    await asyncio.sleep(2)
    await progress_msg.edit_text("тЬЕ ржЕржкрж╛рж░рзЗрж╢ржи рж╕ржорзНржкржирзНржи!")

    # ржХрзНрж▓рж┐ржиржЖржк
    await asyncio.sleep(1)
    await progress_msg.delete()
```

## ржмрзЗрж╕рзНржЯ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕

### рзз. рж╕рж░рзНржмржжрж╛ рж╣рзЗрж▓рзНржк ржлрж╛ржВрж╢ржи ржЗржиржХрзНрж▓рзБржб ржХрж░рзБржи
ржкрзНрж░рждрзНржпрзЗржХ ржХржорж╛ржирзНржб ржлрж╛ржЗрж▓рзЗ `help()` ржлрж╛ржВрж╢ржи ржерж╛ржХрждрзЗ рж╣ржмрзЗ рж╕ржорзНржкрзВрж░рзНржг рждржерзНржп рж╕рж╣ред

### рзи. ржкрзНрж░ржкрж╛рж░ рж▓ржЧрж┐ржВ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
ржХржорж╛ржирзНржб ржПржХрзНрж╕рж┐ржХрж┐ржЙрж╢ржи ржПржмржВ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржЗржнрзЗржирзНржЯ рж▓ржЧ ржХрж░рзБржи:

```python
logger.info(lang.log_command_executed.format(command='command_name', user_id=message.from_user.id))
```

### рзй. ржПрж░рж░ ржЧрзНрж░рзЗрж╕ржлрзБрж▓рж┐ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рзБржи
ржЯрзНрж░рж╛ржЗ-ржХрзНржпрж╛ржЪ ржмрзНрж▓ржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржмржВ ржЗржЙржЬрж╛рж░ржжрзЗрж░ ржЬржирзНржп ржЕрж░рзНржержкрзВрж░рзНржг ржПрж░рж░ ржорзЗрж╕рзЗржЬ ржкрзНрж░ржжрж╛ржи ржХрж░рзБржиред

### рзк. ржЗржиржкрзБржЯ ржнрзНржпрж╛рж▓рж┐ржбрзЗржЯ ржХрж░рзБржи
ржХржорж╛ржирзНржб ржЖрж░рзНржЧрзБржорзЗржирзНржЯ ржЪрзЗржХ ржХрж░рзБржи ржПржмржВ ржЗржиржнрзНржпрж╛рж▓рж┐ржб рж╣рж▓рзЗ ржмрзНржпржмрж╣рж╛рж░ ржирж┐рж░рзНржжрзЗрж╢ржирж╛ ржкрзНрж░ржжрж╛ржи ржХрж░рзБржиред

### рзл. HTML ржлрж░ржорзНржпрж╛ржЯрж┐ржВ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
ржмрж┐ржЯрж╛рж░ рж░рж┐ржбрзЗржмрж┐рж▓рж┐ржЯрж┐рж░ ржЬржирзНржп ржорзЗрж╕рзЗржЬрзЗ HTML ржЯрзНржпрж╛ржЧ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи:

```python
await message.answer(
    "<b>рж╕ржлрж▓!</b> ржЕржкрж╛рж░рзЗрж╢ржи рж╕ржорзНржкржирзНржиред\n"
    "<code>рж░рзЗрж╕рж╛рж▓рзНржЯ: 12345</code>",
    parse_mode="HTML"
)
```

### рзм. рж░рзЗржЯ рж▓рж┐ржорж┐ржЯ рж░рзЗрж╕ржкрзЗржХрзНржЯ ржХрж░рзБржи
ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржорзЗрж░ рж░рзЗржЯ рж▓рж┐ржорж┐ржЯ ржПржбрж╝рж╛рждрзЗ ржЕржкрж╛рж░рзЗрж╢ржирзЗрж░ ржоржзрзНржпрзЗ ржбрж┐рж▓рзЗ ржпрзЛржЧ ржХрж░рзБржиред

### рзн. рж░рж┐рж╕рзЛрж░рзНрж╕ ржХрзНрж▓рж┐ржиржЖржк ржХрж░рзБржи
ржлрж╛ржЗржирж╛рж▓рж┐ ржмрзНрж▓ржХрзЗ ржЯрзЗржорзНржкрзЛрж░рж╛рж░рж┐ ржлрж╛ржЗрж▓ ржПржмржВ рж░рж┐рж╕рзЛрж░рзНрж╕ ржХрзНрж▓рж┐ржиржЖржк ржХрж░рзБржиред

### рзо. ржкрж╛рж░ржорж┐рж╢ржи ржЪрзЗржХ ржХрж░рзБржи
ржЕрзНржпрж╛ржбржорж┐ржи-рж╢рзБржзрзБ ржХржорж╛ржирзНржбрзЗрж░ ржЬржирзНржп ржбрзЗржЯрж╛ржмрзЗрж╕ ржЪрзЗржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи:

```python
if not db.is_admin(message.from_user.id):
    await message.answer("тЭМ ржЕрзНржпрж╛ржбржорж┐ржи ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржкрзНрж░ржпрж╝рзЛржЬржиред")
    return
```

### рзп. ржлрж╛ржЗрж▓ ржирзЗржорж┐ржВ
ржбрзЗрж╕ржХрзНрж░рж┐ржкржЯрж┐ржн ржлрж╛ржЗрж▓ ржирж╛ржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи: `my_command.py`, `user_management.py`, ржЗрждрзНржпрж╛ржжрж┐ред

### рззрзж. ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи
ржХрзЛржб рж░рж┐ржбрзЗржмрж▓ рж░рж╛ржЦрзБржи ржПржмржВ ржХржоржкрзНрж▓рзЗржХрзНрж╕ рж▓ржЬрж┐ржХрзЗрж░ ржЬржирзНржп ржХржорзЗржирзНржЯ ржпрзЛржЧ ржХрж░рзБржиред

## ржЖржкржирж╛рж░ ржХржорж╛ржирзНржб ржЯрзЗрж╕рзНржЯ ржХрж░рж╛

рзз. ржЖржкржирж╛рж░ ржХржорж╛ржирзНржб ржлрж╛ржЗрж▓ `src/commands/`-ржП рж╕рзЗржн ржХрж░рзБржи
рзи. ржмржЯ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржХрж░рзБржи ржмрж╛ `/reload` ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи
рзй. ржЖржкржирж╛рж░ ржХржорж╛ржирзНржб ржжрзЗржЦрж╛ ржпрж╛ржпрж╝ ржХрж┐ржирж╛ `/help` ржжрж┐ржпрж╝рзЗ ржЪрзЗржХ ржХрж░рзБржи
рзк. ржХржорж╛ржирзНржб ржлрж╛ржВрж╢ржирж╛рж▓рж┐ржЯрж┐ ржЯрзЗрж╕рзНржЯ ржХрж░рзБржи
рзл. ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯрзЗрж░ рж╕ржоржпрж╝ ржХрзЛржирзЛ ржПрж░рж░рзЗрж░ ржЬржирзНржп рж▓ржЧ ржЪрзЗржХ ржХрж░рзБржи

## ржХржорж╛ржирзНржб ржлрж╛ржЗрж▓ ржЯрзЗржоржкрзНрж▓рзЗржЯ

ржирждрзБржи ржХржорж╛ржирзНржбрзЗрж░ ржЬржирзНржп ржПржЗ ржЯрзЗржоржкрзНрж▓рзЗржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи:

```python
from core import Message, command, logger, get_lang
# ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржЕржирзНржпрж╛ржирзНржп ржоржбрж┐ржЙрж▓ ржЗржоржкрзЛрж░рзНржЯ ржХрж░рзБржи

lang = get_lang()

def help():
    return {
        "name": "command_name",
        "version": "1.0.0",
        "description": "ржПржЗ ржХржорж╛ржирзНржб ржХрзА ржХрж░рзЗ рждрж╛рж░ рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржмрж░рзНржгржирж╛",
        "author": "ржЖржкржирж╛рж░ ржирж╛ржо",
        "usage": "/command_name [ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░]"
    }

@command('command_name')
async def command_name(message: Message):
    logger.info(lang.log_command_executed.format(command='command_name', user_id=message.from_user.id))

    # ржХржорж╛ржирзНржб ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи ржПржЦрж╛ржирзЗ
    await message.answer("ржХржорж╛ржирзНржб рж╕ржлрж▓ржнрж╛ржмрзЗ ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣ржпрж╝рзЗржЫрзЗ!")
```

## рж╕рж╛рж╣рж╛ржпрзНржп ржкрзНрж░ржпрж╝рзЛржЬржи?

- `src/commands/`-ржП ржмрж┐ржжрзНржпржорж╛ржи ржХржорж╛ржирзНржб ржерзЗржХрзЗ ржЙржжрж╛рж╣рж░ржг ржжрзЗржЦрзБржи
- ржХрзЛрж░ ржоржбрж┐ржЙрж▓ `core/` ржерзЗржХрзЗ ржЙржкрж▓ржмрзНржз ржЗржЙржЯрж┐рж▓рж┐ржЯрж┐ ржжрзЗржЦрзБржи
- ржмржЯрзЗ `/help` ржХржорж╛ржирзНржб ржжрж┐ржпрж╝рзЗ ржЙржкрж▓ржмрзНржз ржХржорж╛ржирзНржб ржжрзЗржЦрзБржи
- ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯрзЗрж░ рж╕ржоржпрж╝ ржПрж░рж░ ржорзЗрж╕рзЗржЬрзЗрж░ ржЬржирзНржп рж▓ржЧ ржЪрзЗржХ ржХрж░рзБржи

---

**ржЖрж░ржУ рждржерзНржпрзЗрж░ ржЬржирзНржп ржЗржВрж▓рж┐рж╢ ржнрж╛рж░рзНрж╕ржи ржжрзЗржЦрзБржи:** [creating-commands.md](creating-commands.md)