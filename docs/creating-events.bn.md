# Komihub Bot-‡¶è ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ

‡¶è‡¶á ‡¶ó‡¶æ‡¶á‡¶°‡¶ü‡¶ø Komihub ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡¶ü ‡¶´‡ßç‡¶∞‡ßá‡¶Æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï‡ßá ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ï‡¶∞‡ßá‡•§

## ‡¶∏‡ßÇ‡¶ö‡¶ø‡¶™‡¶§‡ßç‡¶∞
- [‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≠‡¶ø‡¶â](#‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü-‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ-‡¶ì‡¶≠‡¶æ‡¶∞‡¶≠‡¶ø‡¶â)
- [‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡¶ö‡¶æ‡¶∞](#‡¶¨‡ßá‡¶∏‡¶ø‡¶ï-‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü-‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡¶ö‡¶æ‡¶∞)
- [‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡¶æ‡¶á‡¶™](#‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü-‡¶ü‡¶æ‡¶á‡¶™)
- [‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£](#‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü-‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£)
- [‡¶¨‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶∏](#‡¶¨‡ßá‡¶∏‡ßç‡¶ü-‡¶™‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶∏)

## ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶ì‡¶≠‡¶æ‡¶∞‡¶≠‡¶ø‡¶â

Komihub ‡¶¨‡¶ü‡ßá‡¶∞ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡¶≤‡ßã ‡¶∏‡ßç‡¶™‡ßá‡¶∏‡¶ø‡¶´‡¶ø‡¶ï ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏ ‡¶Ø‡ßá‡¶Æ‡¶®:
- ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ú‡¶Ø‡¶º‡ßá‡¶®/‡¶≤‡¶ø‡¶≠
- ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá
- ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
- ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï ‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∞‡¶ø
- ‡¶á‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∞‡¶ø

‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü `src/events/` ‡¶°‡¶ø‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡¶∞‡¶ø‡¶§‡ßá ‡¶•‡¶æ‡¶ï‡ßá ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡ßç‡¶ü‡¶Ü‡¶™‡ßá ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø ‡¶≤‡ßã‡¶° ‡¶π‡¶Ø‡¶º‡•§

## ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡¶ö‡¶æ‡¶∞

### ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶´‡¶æ‡¶á‡¶≤ ‡¶ü‡ßá‡¶Æ‡¶™‡ßç‡¶≤‡ßá‡¶ü

```python
# src/events/my_event.py

async def handle_my_event(event):
    """‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡ßç‡¶™‡ßá‡¶∏‡¶ø‡¶´‡¶ø‡¶ï ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡¶æ‡¶á‡¶™ ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®"""
    # ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶ø‡¶Ç ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶è‡¶ñ‡¶æ‡¶®‡ßá
    pass

# ‡¶´‡¶æ‡¶á‡¶≤ ‡¶®‡ßá‡¶Æ‡ßá‡¶∞ ‡¶â‡¶™‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶ï‡¶∞‡ßá ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø ‡¶π‡¶Ø‡¶º
```

### ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®

‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶´‡¶æ‡¶á‡¶≤ ‡¶®‡ßá‡¶Æ‡ßá‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶®‡ßá‡¶∞ ‡¶â‡¶™‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶ï‡¶∞‡ßá ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶π‡¶Ø‡¶º:

- `join.py` - ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ú‡¶Ø‡¶º‡ßá‡¶® ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü
- `leave.py` - ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶≤‡¶ø‡¶≠ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü
- `message.py` - ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü
- `callback.py` - ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï ‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∞‡¶ø ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü

## ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡¶æ‡¶á‡¶™

### ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü

‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ú‡¶Ø‡¶º‡ßá‡¶® ‡¶¨‡¶æ ‡¶≤‡¶ø‡¶≠ ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®:

```python
# src/events/join.py
from aiogram.types import ChatMemberUpdated
from core.logging import logger
from core.lang import get_lang

lang = get_lang()

async def handle_chat_member_update(update: ChatMemberUpdated):
    """‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ú‡¶Ø‡¶º‡ßá‡¶®/‡¶≤‡¶ø‡¶≠ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®"""
    try:
        if update.new_chat_member.status == 'member' and update.old_chat_member.status != 'member':
            # ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ú‡¶Ø‡¶º‡ßá‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá
            user = update.new_chat_member.user
            logger.info(lang.log_user_joined.format(
                user_id=user.id,
                chat_id=update.chat.id
            ))

            # ‡¶ì‡¶Ø‡¶º‡ßá‡¶≤‡¶ï‡¶æ‡¶Æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶™‡¶æ‡¶†‡¶æ‡¶®
            await update.bot.send_message(
                chat_id=update.chat.id,
                text=f"‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ {user.first_name}! üëã"
            )

        elif update.old_chat_member.status == 'member' and update.new_chat_member.status != 'member':
            # ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶≠ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá
            user = update.old_chat_member.user
            logger.info(lang.log_user_left.format(
                user_id=user.id,
                chat_id=update.chat.id
            ))

    except Exception as e:
        logger.error(f"‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü‡ßá ‡¶è‡¶∞‡¶∞: {e}")
```

### ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü

‡¶∏‡ßç‡¶™‡ßá‡¶∏‡¶ø‡¶´‡¶ø‡¶ï ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶¨‡¶æ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®:

```python
# src/events/song_reply.py
from aiogram.types import Message
from core.logging import logger
from core.lang import get_lang

lang = get_lang()

async def handle_message(message: Message):
    """‡¶∏‡¶Ç ‡¶∞‡¶ø‡¶™‡ßç‡¶≤‡¶æ‡¶á ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®"""
    try:
        # ‡¶Ö‡¶°‡¶ø‡¶ì ‡¶´‡¶æ‡¶á‡¶≤‡ßá ‡¶∞‡¶ø‡¶™‡ßç‡¶≤‡¶æ‡¶á ‡¶ï‡¶ø‡¶®‡¶æ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
        if (message.reply_to_message and
            message.reply_to_message.audio and
            message.text and
            message.text.lower().startswith('song')):

            audio = message.reply_to_message.audio
            song_info = f"üéµ <b>‡¶ó‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø</b>\n\n"
            song_info += f"üìÅ ‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤: {audio.title or '‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ'}\n"
            song_info += f"üë§ ‡¶Ü‡¶∞‡ßç‡¶ü‡¶ø‡¶∏‡ßç‡¶ü: {audio.performer or '‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ'}\n"
            song_info += f"‚è±Ô∏è ‡¶°‡¶ø‡¶â‡¶∞‡ßá‡¶∂‡¶®: {audio.duration // 60}:{audio.duration % 60:02d}\n"
            song_info += f"üìä ‡¶∏‡¶æ‡¶á‡¶ú: {audio.file_size:,} ‡¶¨‡¶æ‡¶á‡¶ü\n"

            await message.answer(song_info, parse_mode="HTML")

    except Exception as e:
        logger.error(f"‡¶∏‡¶Ç ‡¶∞‡¶ø‡¶™‡ßç‡¶≤‡¶æ‡¶á ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞‡ßá ‡¶è‡¶∞‡¶∞: {e}")
```

### ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï ‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∞‡¶ø ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü

‡¶á‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶ï‡ßÄ‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡¶æ‡¶ü‡¶® ‡¶™‡ßç‡¶∞‡ßá‡¶∏ ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®:

```python
# src/events/callback_handler.py
from aiogram.types import CallbackQuery
from core.logging import logger

async def handle_callback_query(callback: CallbackQuery):
    """‡¶á‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶ï‡ßÄ‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï ‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∞‡¶ø ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®"""
    try:
        data = callback.data

        if data.startswith('action_'):
            action = data.split('_', 1)[1]

            if action == 'confirm':
                await callback.answer("‚úÖ ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ!")
                await callback.message.edit_text("‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶® ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ‡•§")

            elif action == 'cancel':
                await callback.answer("‚ùå ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏‡ßá‡¶≤!")
                await callback.message.edit_text("‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶® ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏‡ßá‡¶≤‡•§")

        elif data.startswith('page_'):
            page = int(data.split('_', 1)[1])
            # ‡¶™‡ßá‡¶ú‡¶ø‡¶®‡ßá‡¶∂‡¶® ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®
            await callback.answer(f"‡¶™‡ßá‡¶ú {page}")

    except Exception as e:
        logger.error(f"‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞‡ßá ‡¶è‡¶∞‡¶∞: {e}")
        await callback.answer("‡¶è‡¶ï‡¶ü‡¶ø ‡¶è‡¶∞‡¶∞ ‡¶ò‡¶ü‡ßá‡¶õ‡ßá‡•§")
```

## ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£

### ‡¶ì‡¶Ø‡¶º‡ßá‡¶≤‡¶ï‡¶æ‡¶Æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü

```python
# src/events/welcome.py
from aiogram.types import ChatMemberUpdated
from core.logging import logger
from core.lang import get_lang
from core.database import db

lang = get_lang()

async def handle_chat_member_update(update: ChatMemberUpdated):
    """‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ú‡¶Ø‡¶º‡ßá‡¶®‡ßá ‡¶ì‡¶Ø‡¶º‡ßá‡¶≤‡¶ï‡¶æ‡¶Æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶™‡¶æ‡¶†‡¶æ‡¶®"""
    try:
        if (update.new_chat_member.status == 'member' and
            update.old_chat_member.status != 'member'):

            user = update.new_chat_member.user
            chat = update.chat

            # ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
            db.add_user(user.id, {
                'username': user.username,
                'first_name': user.first_name,
                'last_name': user.last_name,
                'chat_id': chat.id,
                'joined_at': None  # ‡¶ï‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡¶æ‡¶á‡¶Æ ‡¶∏‡ßá‡¶ü ‡¶π‡¶¨‡ßá
            })

            # ‡¶ì‡¶Ø‡¶º‡ßá‡¶≤‡¶ï‡¶æ‡¶Æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
            welcome_text = f"""
üéâ <b>{chat.title}-‡¶è ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!</b>

üë§ <b>{user.first_name}</b>
"""

            if user.username:
                welcome_text += f"üÜî @{user.username}\n"
            else:
                welcome_text += f"üÜî ID: <code>{user.id}</code>\n"

            welcome_text += f"""
üìÖ ‡¶ú‡¶Ø‡¶º‡ßá‡¶®: {time.strftime('%Y-%m-%d %H:%M:%S')}

‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü ‡¶∞‡ßÅ‡¶≤‡¶∏ ‡¶™‡¶°‡¶º‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡ßá ‡¶â‡¶™‡¶≠‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®! üöÄ
"""

            await update.bot.send_message(
                chat_id=chat.id,
                text=welcome_text,
                parse_mode="HTML"
            )

            logger.info(f"‡¶á‡¶â‡¶ú‡¶æ‡¶∞ {user.id}-‡¶ï‡ßá ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü {chat.id}-‡¶è ‡¶ì‡¶Ø‡¶º‡ßá‡¶≤‡¶ï‡¶æ‡¶Æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá")

    except Exception as e:
        logger.error(f"‡¶ì‡¶Ø‡¶º‡ßá‡¶≤‡¶ï‡¶æ‡¶Æ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶è‡¶∞‡¶∞: {e}")
```

### ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶ü‡¶ø-‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü

```python
# src/events/anti_spam.py
from aiogram.types import Message
from core.logging import logger
from core.database import db
import time

# ‡¶∏‡¶ø‡¶Æ‡ßç‡¶™‡¶≤ ‡¶∞‡ßá‡¶ü ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡¶ø‡¶Ç
user_last_message = {}

async def handle_message(message: Message):
    """‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶ü‡¶ø-‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ ‡¶™‡ßç‡¶∞‡ßã‡¶ü‡ßá‡¶ï‡¶∂‡¶®"""
    try:
        user_id = message.from_user.id
        current_time = time.time()

        # ‡¶∞‡ßá‡¶ü ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶® (10 ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏ 5 ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú)
        if user_id in user_last_message:
            time_diff = current_time - user_last_message[user_id]
            if time_diff < 10:  # 10 ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá‡¶∞ ‡¶ï‡¶Æ
                message_count = getattr(handle_message, f'count_{user_id}', 0)
                if message_count >= 5:
                    # ‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ‡¶æ‡¶∞‡¶ï‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
                    if db.is_admin(message.from_user.id):
                        # ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®‡¶ï‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶® ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ
                        return

                    try:
                        await message.bot.ban_chat_member(
                            message.chat.id,
                            user_id
                        )
                        await message.answer(f"üö´ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ {user_id} ‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ‡¶ø‡¶Ç‡¶Ø‡¶º‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶®!")
                        logger.warning(f"‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ‡¶ø‡¶Ç‡¶Ø‡¶º‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ {user_id} ‡¶¨‡ßç‡¶Ø‡¶æ‡¶®")
                        return
                    except Exception as e:
                        logger.error(f"‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ‡¶æ‡¶∞ {user_id} ‡¶¨‡ßç‡¶Ø‡¶æ‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•: {e}")

                setattr(handle_message, f'count_{user_id}', message_count + 1)
            else:
                # ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                setattr(handle_message, f'count_{user_id}', 1)
        else:
            setattr(handle_message, f'count_{user_id}', 1)

        user_last_message[user_id] = current_time

    except Exception as e:
        logger.error(f"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶ü‡¶ø-‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶è‡¶∞‡¶∞: {e}")
```

### ‡¶Ö‡¶ü‡ßã-‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú

```python
# src/events/cleanup.py
from aiogram.types import Message
from core.logging import logger

async def handle_message(message: Message):
    """‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ï‡ßç‡¶≤‡¶ø‡¶®‡¶Ü‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®"""
    try:
        # ‡¶¨‡¶ü‡ßá‡¶∞ ‡¶®‡¶ø‡¶ú‡¶∏‡ßç‡¶¨ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú - ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ
        if message.from_user.id == message.bot.id:
            return

        # ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
        service_keywords = [
            'joined the group',
            'left the group',
            'changed the group photo',
            'pinned a message',
            'unpinned a message'
        ]

        message_text = (message.text or message.caption or '').lower()

        if any(keyword in message_text for keyword in service_keywords):
            # 30 ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
            import asyncio
            await asyncio.sleep(30)

            try:
                await message.delete()
                logger.info(f"‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü {message.chat.id}-‡¶è ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü")
            except Exception as e:
                logger.warning(f"‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•: {e}")

    except Exception as e:
        logger.error(f"‡¶ï‡ßç‡¶≤‡¶ø‡¶®‡¶Ü‡¶™ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶è‡¶∞‡¶∞: {e}")
```

### ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü

```python
# src/events/keyword_responses.py
from aiogram.types import Message
from core.logging import logger

# ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏ ‡¶°‡¶ø‡¶´‡¶æ‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
KEYWORD_RESPONSES = {
    'hello': '‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã! üëã',
    'bye': '‡¶¨‡¶ø‡¶¶‡¶æ‡¶Ø‡¶º! üëã',
    'thanks': '‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶! üòä',
    'help': '‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø /help ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®! ü§ñ',
    'ping': '‡¶™‡¶Ç! üèì'
}

async def handle_message(message: Message):
    """‡¶∏‡ßç‡¶™‡ßá‡¶∏‡¶ø‡¶´‡¶ø‡¶ï ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°‡ßá ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®"""
    try:
        if not message.text:
            return

        text = message.text.lower().strip()

        # ‡¶è‡¶ï‡ßç‡¶∏‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ö ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
        for keyword, response in KEYWORD_RESPONSES.items():
            if text == keyword:
                await message.reply(response)
                logger.info(f"‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° '{keyword}'-‡¶è ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶°")
                return

        # ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú‡ßá ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
        for keyword, response in KEYWORD_RESPONSES.items():
            if keyword in text:
                # ‡¶ñ‡ßÅ‡¶¨ ‡¶≤‡¶Æ‡ßç‡¶¨‡¶æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶π‡¶≤‡ßá ‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ ‡¶è‡¶°‡¶º‡¶æ‡¶§‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
                if len(text.split()) <= 3:
                    await message.reply(response)
                    logger.info(f"‡¶Æ‡ßá‡¶∏‡ßá‡¶ú‡ßá ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° '{keyword}'-‡¶è ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶°")
                    return

    except Exception as e:
        logger.error(f"‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶è‡¶∞‡¶∞: {e}")
```

## ‡¶¨‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶∏

### ‡ßß. ‡¶è‡¶∞‡¶∞ ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶ø‡¶Ç
‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞‡ßá ‡¶∏‡¶∞‡ßç‡¶¨‡¶¶‡¶æ ‡¶ü‡ßç‡¶∞‡¶æ‡¶á-‡¶ï‡ßç‡¶Ø‡¶æ‡¶ö ‡¶¨‡ßç‡¶≤‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®:

```python
async def handle_event(event):
    try:
        # ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶è‡¶ñ‡¶æ‡¶®‡ßá
        pass
    except Exception as e:
        logger.error(f"‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞‡ßá ‡¶è‡¶∞‡¶∞: {e}")
```

### ‡ß®. ‡¶≤‡¶ó‡¶ø‡¶Ç
‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶è‡¶∞‡¶∞ ‡¶≤‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®:

```python
logger.info(f"‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡ßç‡¶∞‡¶ø‡¶ó‡¶æ‡¶∞: {event_type}")
logger.error(f"‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶∞‡¶∞: {e}")
```

### ‡ß©. ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏
‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞ ‡¶≤‡¶æ‡¶á‡¶ü‡¶ì‡¶Ø‡¶º‡ßá‡¶ü ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®, ‡¶¨‡ßç‡¶≤‡¶ï‡¶ø‡¶Ç ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶è‡¶°‡¶º‡¶æ‡¶®, async/await ‡¶™‡ßç‡¶∞‡¶™‡¶æ‡¶∞‡¶≤‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§

### ‡ß™. ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞
‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶°‡ßá‡¶ü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®:

```python
from core.database import db

# ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
db.add_user(user_id, {'event_data': 'value'})
```

### ‡ß´. ‡¶∞‡ßá‡¶ü ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡¶ø‡¶Ç
‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏-‡¶á‡¶®‡¶ü‡ßá‡¶®‡¶∏‡¶ø‡¶≠ ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∞‡ßá‡¶ü ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡¶ø‡¶Ç ‡¶á‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®:

```python
import time

last_execution = {}

async def rate_limited_handler(event):
    current_time = time.time()
    if current_time - last_execution.get('handler', 0) < 60:  # 1 ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶ï‡ßÅ‡¶≤‡¶°‡¶æ‡¶â‡¶®
        return

    last_execution['handler'] = current_time
    # ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞ ‡¶≤‡¶ú‡¶ø‡¶ï
```

### ‡ß¨. ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶®
‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶á‡¶ú‡ßá‡¶¨‡¶≤ ‡¶¨‡¶ø‡¶π‡ßá‡¶≠‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶®‡¶´‡¶ø‡¶ó ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®:

```python
import config

if config.ENABLE_WELCOME_MESSAGES:
    await send_welcome_message(event)
```

### ‡ß≠. ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ö‡¶∞‡ßç‡¶ó‡¶æ‡¶®‡¶æ‡¶á‡¶ú‡ßá‡¶∂‡¶®
‡¶è‡¶ï ‡¶´‡¶æ‡¶á‡¶≤‡ßá ‡¶è‡¶ï ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡¶æ‡¶á‡¶™, ‡¶°‡ßá‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶ü‡¶ø‡¶≠ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶®‡¶æ‡¶Æ, ‡¶ï‡ßç‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶®‡¶æ‡¶Æ‡•§

### ‡ßÆ. ‡¶ü‡ßá‡¶∏‡ßç‡¶ü‡¶ø‡¶Ç
‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶∏‡¶ø‡¶®‡¶æ‡¶∞‡¶ø‡¶ì‡¶§‡ßá ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®:
- ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü vs ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡ßá‡¶ü ‡¶ö‡ßç‡¶Ø‡¶æ‡¶ü
- ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ü‡¶æ‡¶á‡¶™ (‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®, ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞, ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø)
- ‡¶è‡¶∞‡¶∞ ‡¶ï‡¶®‡ßç‡¶°‡¶ø‡¶∂‡¶®

### ‡ßØ. ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∂‡¶®
‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡ßá ‡¶°‡¶ï‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Ç ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®:

```python
async def handle_join_event(update: ChatMemberUpdated):
    """‡¶ì‡¶Ø‡¶º‡ßá‡¶≤‡¶ï‡¶æ‡¶Æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶∏‡¶π ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ú‡¶Ø‡¶º‡ßá‡¶® ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®"""
    pass
```

### ‡ßß‡ß¶. ‡¶ï‡ßç‡¶≤‡¶ø‡¶®‡¶Ü‡¶™
‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶ü‡ßá‡¶Æ‡ßç‡¶™‡ßã‡¶∞‡¶æ‡¶∞‡¶ø ‡¶°‡ßá‡¶ü‡¶æ ‡¶ï‡ßç‡¶≤‡¶ø‡¶®‡¶Ü‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®:

```python
finally:
    # ‡¶ï‡ßç‡¶≤‡¶ø‡¶®‡¶Ü‡¶™ ‡¶ï‡ßã‡¶° ‡¶è‡¶ñ‡¶æ‡¶®‡ßá
    pass
```

## ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®

‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶´‡¶æ‡¶á‡¶≤ ‡¶®‡ßá‡¶Æ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶®‡ßá‡¶∞ ‡¶â‡¶™‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶π‡¶Ø‡¶º‡•§ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶ñ‡ßã‡¶Å‡¶ú‡ßá:

- `src/events/`-‡¶è `.py` ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶∂‡ßá‡¶∑ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ ‡¶´‡¶æ‡¶á‡¶≤
- ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßá‡¶ï‡ßç‡¶ü‡ßá‡¶° ‡¶∏‡¶ø‡¶ó‡¶®‡ßá‡¶ö‡¶æ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ö ‡¶ï‡¶∞‡ßá ‡¶è‡¶Æ‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
- ‡¶¨‡¶ü ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶Ø‡¶æ‡¶ö‡¶æ‡¶∞‡ßá ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®

## ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®?

- `src/events/`-‡¶è ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶Æ‡¶æ‡¶® ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
- ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡¶ü API ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∂‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡¶æ‡¶á‡¶™ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
- ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶ï‡ßç‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∂‡¶® ‡¶°‡¶ø‡¶¨‡¶æ‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶≤‡¶ó‡¶ø‡¶Ç ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
- ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶®‡¶≠‡¶æ‡¶Ø‡¶º‡¶∞‡¶®‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®

---

**‡¶Ü‡¶∞‡¶ì ‡¶§‡¶•‡ßç‡¶Ø‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶á‡¶Ç‡¶≤‡¶ø‡¶∂ ‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶® ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®:** [creating-events.md](creating-events.md)